# =========================================
# Shoes Website 2026 — Environment Variables
# Copy to .env and fill in values
# =========================================

# ---------- Server ----------
NODE_ENV=development
PORT=5000

# ---------- Database ----------
MONGO_URI=mongodb://localhost:27017/radeo

# ---------- Authentication ----------
# Must be at least 32 characters. Use: node -e "console.log(require('crypto').randomBytes(48).toString('hex'))"
JWT_SECRET=
JWT_ACCESS_SECRET=              # Optional — falls back to JWT_SECRET
JWT_REFRESH_SECRET=             # Optional — falls back to JWT_SECRET
JWT_SECRET_PREVIOUS=            # Optional — set during secret rotation window

# ---------- Redis / Valkey ----------
# Provide REDIS_URL *or* individual REDIS_HOST + REDIS_PORT + REDIS_PASSWORD
REDIS_URL=redis://localhost:6379
REDIS_HOST=
REDIS_PORT=6379
REDIS_PASSWORD=

# ---------- S3-Compatible Storage (MinIO / R2) ----------
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_USE_SSL=false
MINIO_ACCESS_KEY=
MINIO_SECRET_KEY=
MINIO_BUCKET=radeo-products
MINIO_REGION=us-east-1
MINIO_PUBLIC_URL=               # e.g. https://minio.radeo.in
MINIO_CDN_URL=                  # e.g. https://cdn.radeo.in  (Cloudflare R2 / CDN)

# ---------- Payment (Razorpay) ----------
RAZORPAY_KEY_ID=
RAZORPAY_KEY_SECRET=

# ---------- Shipping (Shiprocket) ----------
SHIPROCKET_EMAIL=
SHIPROCKET_PASSWORD=

# ---------- Firebase ----------
FIREBASE_PROJECT_ID=radeo-2026
FIREBASE_SERVICE_ACCOUNT_PATH=  # Path to service account JSON (local dev)
FIREBASE_PRIVATE_KEY=           # For production — paste the RSA key
FIREBASE_CLIENT_EMAIL=          # For production — Firebase service account email

# ---------- Cloudflare Turnstile ----------
TURNSTILE_SECRET_KEY=           # From Cloudflare dashboard > Turnstile

# ---------- CORS ----------
FRONTEND_URL=http://localhost:3000
CORS_ALLOWED_ORIGINS=           # Comma-separated additional origins

# ---------- Pusher (real-time) ----------
PUSHER_APP_ID=
PUSHER_KEY=
PUSHER_SECRET=
PUSHER_CLUSTER=ap2

# ---------- Soketi (self-hosted Pusher alternative) ----------
SOKETI_APP_ID=
SOKETI_APP_KEY=
SOKETI_APP_SECRET=
SOKETI_HOST=
SOKETI_PORT=6001
SOKETI_USE_TLS=false

# ---------- SMTP (email) ----------
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=                      # e.g. noreply@radeo.in

# ---------- Admin ----------
ADMIN_NOTIFICATION_EMAIL=       # Email for admin notifications
ADMIN_TOKEN=                    # Admin impersonation token
ADMIN_URL=                      # Admin panel URL
API_URL=                        # Full backend API URL for external services

# ---------- JWT Token Tuning ----------
JWT_ACCESS_EXPIRATION=15m       # Access token TTL (default 15m)
JWT_REFRESH_EXPIRATION=7d       # Refresh token TTL (default 7d)
MAX_ACTIVE_REFRESH_SESSIONS=5   # Max concurrent refresh sessions per user

# ---------- Google Cloud (reCAPTCHA Enterprise) ----------
GOOGLE_APPLICATION_CREDENTIALS= # Path to Google Cloud service account JSON
GOOGLE_CLOUD_PROJECT_ID=
RECAPTCHA_SITE_KEY=

# ---------- Per-Bucket MinIO Names ----------
MINIO_BUCKET_PRODUCTS=radeo-products
MINIO_BUCKET_MEDIA=radeo-media
MINIO_BUCKET_REVIEWS=radeo-reviews
MINIO_BUCKET_TEMP=radeo-temp

# ---------- Razorpay Webhooks ----------
RAZORPAY_WEBHOOK_SECRET=        # Webhook signature secret from Razorpay dashboard

# ---------- Shiprocket Webhook + Reconciliation ----------
SHIPROCKET_WEBHOOK_SECRET=
SHIPROCKET_WEBHOOK_TOKEN=
SHIPROCKET_RECON_CRON=          # Cron schedule e.g. "0 */4 * * *"
SHIPROCKET_RECON_PAGE_SIZE=50

# ---------- Observability ----------
LOKI_HOST=                      # e.g. http://loki:3100

# ---------- CMS / Publish Workflow ----------
PUBLISH_WORKFLOW_INTERVAL_MS=300000   # 5 minutes
PUBLISH_WORKFLOW_LEASE_MS=600000      # 10 minutes

# ---------- CORS Advanced ----------
CORS_ALLOW_WILDCARD_SUBDOMAINS=false  # Allow *.yourdomain.com
